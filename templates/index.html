{% extends "layout.html" %}
{% block page_title %}Home{% endblock %}
{% block navbar %}
<div class="main-nav">
    <div><button onclick="location.href='/list'" type="submit">All question</button></div>
    <div><button onclick="location.href='/add-question'" type="submit">Add new question</button></div>
<div>
    <label for="sort_by">Sort by:</label>
    <select onchange="location = this.value" name="sort_by" id="sort_by">
        {% if request.args.get("sort_by") == None %}
            <option value="/list">Select an option to sort questions</option>
        {% else %}
            <option value="/list?sort_by={{ request.args["sort_by"] }}&order={{ request.args["order"] }}">
                {{ request.args["sort_by"].replace("_", " ").title()+"("+request.args["order"]+")" }}
            </option>
        {% endif %}
        {% for option in header %}
            {% if option not in ["id","image"] %}
                <option value="/list?sort_by={{ option }}&order=asc">{{ option.replace("_", " ").title() }}(asc)</option>
                <option value="/list?sort_by={{ option }}&order=desc">{{ option.replace("_", " ").title() }}(desc)</option>
            {% endif %}
        {% endfor %}
    </select>
</div>

</div>
{% endblock %}
{% block content %}
    {% for question in questions %}
        <div class="question-card">
            <div class="card-title">{{ question.title }}</div>
            <div class="card-message">{{ question.message }}</div>
            <div class="card-vote-number">{{ question.vote_number }}</div>
            <div class="card-view-number">{{ question.view_number }}</div>
            <div class="card-smt">{{ question.submission_time.date() }}<br>{{ question.submission_time.time() }}</div>
        </div>
    {% endfor %}
{% endblock %}
